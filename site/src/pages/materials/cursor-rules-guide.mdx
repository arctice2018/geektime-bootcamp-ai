---
layout: ../../layouts/MaterialLayout.astro
title: Cursor Rules å®Œå…¨æŒ‡å—
description: æ·±å…¥æŒæ¡ Cursor Rules é…ç½® - ä»åŸºç¡€åˆ°è¿›é˜¶çš„å®Œæ•´æ•™ç¨‹
category: å·¥å…·æ·±åº¦è§£æ
---

import MetricCard from '../../components/materials/MetricCard';
import Mermaid from '../../components/materials/Mermaid';
import ScrollReveal from '../../components/ui/ScrollReveal';
import ExampleCode from '../../components/materials/ExampleCode';

# Cursor Rules å®Œå…¨æŒ‡å—

**æŒæ¡ AI ç¼–ç åŠ©æ‰‹çš„ç§˜å¯†æ­¦å™¨**

> **ç³»ç»Ÿ**: Project Rules (.cursor/rules/) + User Rules | **æ ¼å¼**: MDC (Markdown Components) | **åº”ç”¨**: æ™ºèƒ½ä¸Šä¸‹æ–‡æ³¨å…¥

---

## ğŸ“Š Cursor Rules æ ¸å¿ƒæ•°æ®

export const rulesMetrics = [
  { label: 'Rule ç±»å‹', value: 4, color: '#b3272c', icon: 'ğŸ“‹' },
  { label: 'ç¤¾åŒºè§„åˆ™åº“', value: 1000, unit: '+', color: '#772d8b', icon: 'ğŸ“š' },
  { label: 'MDC å…ƒæ•°æ®å­—æ®µ', value: 5, color: '#77a0a9', icon: 'âš™ï¸' },
  { label: 'åº”ç”¨æ–¹å¼', value: 3, color: '#d3f9b5', icon: 'ğŸ¯' },
  { label: 'ç»„ç»‡å±‚çº§', value: 3, color: '#f5cbc5', icon: 'ğŸ“' },
  { label: 'æœ€ä½³å®è·µæ¡æ•°', value: 10, color: '#772d8b', icon: 'âœ…' }
]

<MetricCard title="Cursor Rules æ•°æ®æ¦‚è§ˆ" items={rulesMetrics} type="number" client:load />

---

## ğŸ¯ ä»€ä¹ˆæ˜¯ Cursor Rulesï¼Ÿ

Cursor Rules æ˜¯**é¡¹ç›®ç‰¹å®šçš„æŒ‡ä»¤å’ŒæŒ‡å—**ï¼Œå‘Šè¯‰ Cursor AI å¦‚ä½•ä¸ºä½ çš„é¡¹ç›®ç”Ÿæˆä»£ç ã€‚

### æ ¸å¿ƒä»·å€¼

<Mermaid chart={`mindmap
    root((Cursor Rules<br/>ä»·å€¼))
        ä»£ç ä¸€è‡´æ€§
            ç»Ÿä¸€ä»£ç é£æ ¼
            éµå¾ªæœ€ä½³å®è·µ
            ä¿æŒæ¶æ„æ¨¡å¼
            è§„èŒƒå‘½åçº¦å®š
        å›¢é˜Ÿåä½œ
            å…±äº«çŸ¥è¯†åº“
            ç»Ÿä¸€å·¥ä½œæµ
            æ–°äººå¿«é€Ÿä¸Šæ‰‹
            ç‰ˆæœ¬æ§åˆ¶
        AI å®šåˆ¶åŒ–
            é¡¹ç›®ç‰¹å®šä¸Šä¸‹æ–‡
            æŠ€æœ¯æ ˆé€‚é…
            é¿å…å¸¸è§é”™è¯¯
            åŠ é€Ÿå¼€å‘
        è´¨é‡ä¿è¯
            é¢„é˜²åæ¨¡å¼
            å¼ºåˆ¶å®‰å…¨è§„èŒƒ
            è‡ªåŠ¨åŒ–æ£€æŸ¥
            æå‡å¯ç»´æŠ¤æ€§
`} client:load />

---

## ğŸ—ï¸ Cursor Rules ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

<Mermaid chart={`graph TB
    subgraph "è§„åˆ™å®šä¹‰å±‚"
        ProjectRules[".cursor/rules/<br/>é¡¹ç›®è§„åˆ™ (.mdc)"]
        UserRules["Cursor Settings<br/>ç”¨æˆ·è§„åˆ™"]
        LegacyRules[".cursorrules<br/>é—ç•™è§„åˆ™ (å·²å¼ƒç”¨)"]
    end

    subgraph "è§„åˆ™ç±»å‹"
        Always["Always<br/>å§‹ç»ˆåº”ç”¨"]
        AutoAttach["Auto Attached<br/>æ¨¡å¼åŒ¹é…"]
        AgentRequested["Agent Requested<br/>æ„å›¾é©±åŠ¨"]
        Manual["Manual<br/>æ‰‹åŠ¨é™„åŠ "]
    end

    subgraph "åº”ç”¨å±‚"
        Composer["Composer<br/>å¤šæ–‡ä»¶ç¼–è¾‘"]
        Chat["Chat<br/>å¯¹è¯äº¤äº’"]
        Inline["Inline Edit<br/>è¡Œå†…ç¼–è¾‘"]
    end

    subgraph "ä¸Šä¸‹æ–‡æ³¨å…¥"
        ModelContext["æ¨¡å‹ä¸Šä¸‹æ–‡"]
        SystemPrompt["System Prompt"]
        UserMessage["User Message"]
    end

    subgraph "ä»£ç ç”Ÿæˆ"
        AI["Cursor AI"]
        CodeGen["ä»£ç ç”Ÿæˆ"]
        Validation["è§„åˆ™éªŒè¯"]
    end

    ProjectRules --> Always
    ProjectRules --> AutoAttach
    ProjectRules --> AgentRequested
    UserRules --> Always
    LegacyRules -.å·²å¼ƒç”¨.-> ProjectRules

    Always --> Composer
    AutoAttach --> Chat
    AgentRequested --> Inline
    Manual --> Composer

    Composer --> ModelContext
    Chat --> ModelContext
    Inline --> ModelContext

    ModelContext --> SystemPrompt
    ModelContext --> UserMessage

    SystemPrompt --> AI
    UserMessage --> AI

    AI --> CodeGen
    CodeGen --> Validation
    Validation --> Output["âœ… ç¬¦åˆè§„åˆ™çš„ä»£ç "]

    classDef darkRed fill:#b3272c,stroke:#b3272c,stroke-width:3px,color:#fff
    classDef lightPink fill:#f5cbc5,stroke:#b3272c,stroke-width:2px,color:#1d1d1f
    classDef darkPurple fill:#772d8b,stroke:#772d8b,stroke-width:3px,color:#fff
    classDef teal fill:#77a0a9,stroke:#77a0a9,stroke-width:3px,color:#fff
    classDef lightGreen fill:#d3f9b5,stroke:#772d8b,stroke-width:2px,color:#1d1d1f

    class ProjectRules darkRed
    class Always darkPurple
    class ModelContext teal
    class Output lightGreen
`} client:load />

---

## ğŸ“ è§„åˆ™ç±»å‹è¯¦è§£

### 1. é¡¹ç›®è§„åˆ™ (Project Rules)

**å­˜å‚¨ä½ç½®ï¼š** `.cursor/rules/`

**ç‰¹ç‚¹ï¼š**
- âœ… ç‰ˆæœ¬æ§åˆ¶ï¼ˆGit è·Ÿè¸ªï¼‰
- âœ… å›¢é˜Ÿå…±äº«
- âœ… é¡¹ç›®ç‰¹å®š
- âœ… MDC æ ¼å¼

**ç»“æ„ï¼š**

```
project/
â”œâ”€â”€ .cursor/
â”‚   â””â”€â”€ rules/
â”‚       â”œâ”€â”€ base.mdc              # åŸºç¡€è§„åˆ™
â”‚       â”œâ”€â”€ typescript.mdc        # TypeScript è§„èŒƒ
â”‚       â”œâ”€â”€ react.mdc             # React æœ€ä½³å®è·µ
â”‚       â””â”€â”€ api-design.mdc        # API è®¾è®¡è§„èŒƒ
â”œâ”€â”€ backend/
â”‚   â””â”€â”€ .cursor/rules/
â”‚       â””â”€â”€ backend-specific.mdc  # åç«¯ç‰¹å®šè§„åˆ™
â””â”€â”€ frontend/
    â””â”€â”€ .cursor/rules/
        â””â”€â”€ frontend-specific.mdc # å‰ç«¯ç‰¹å®šè§„åˆ™
```

### 2. ç”¨æˆ·è§„åˆ™ (User Rules)

**å­˜å‚¨ä½ç½®ï¼š** Cursor Settings â†’ Rules

**ç‰¹ç‚¹ï¼š**
- âœ… å…¨å±€åº”ç”¨
- âœ… ä¸ªäººåå¥½
- âœ… è·¨é¡¹ç›®ä½¿ç”¨
- âŒ ä¸èƒ½ç‰ˆæœ¬æ§åˆ¶

**é€‚ç”¨åœºæ™¯ï¼š**
- ä¸ªäººç¼–ç é£æ ¼
- å¸¸ç”¨å·¥å…·åå¥½
- é€šä¿¡æ–¹å¼è®¾å®š

### 3. é—ç•™è§„åˆ™ (.cursorrules)

**å­˜å‚¨ä½ç½®ï¼š** é¡¹ç›®æ ¹ç›®å½• `.cursorrules`

**çŠ¶æ€ï¼š** âš ï¸ **å·²å¼ƒç”¨**ï¼Œå»ºè®®è¿ç§»åˆ° Project Rules

<Mermaid chart={`graph LR
    subgraph "è§„åˆ™ç±»å‹å¯¹æ¯”"
        Project["é¡¹ç›®è§„åˆ™<br/>.cursor/rules/"]
        User["ç”¨æˆ·è§„åˆ™<br/>Settings"]
        Legacy[".cursorrules<br/>(å·²å¼ƒç”¨)"]
    end

    subgraph "ç‰¹æ€§å¯¹æ¯”"
        VC["ç‰ˆæœ¬æ§åˆ¶"]
        Multi["å¤šæ–‡ä»¶ç»„ç»‡"]
        Scope["ä½œç”¨åŸŸæ§åˆ¶"]
        Meta["å…ƒæ•°æ®é…ç½®"]
    end

    subgraph "ä¼˜å…ˆçº§"
        P1["é¡¹ç›®è§„åˆ™<br/>æœ€é«˜"]
        P2["ç”¨æˆ·è§„åˆ™<br/>ä¸­ç­‰"]
        P3["é—ç•™è§„åˆ™<br/>æœ€ä½"]
    end

    Project --> VC
    Project --> Multi
    Project --> Scope
    Project --> Meta

    User -.ä¸æ”¯æŒ.-> VC
    User -.ä¸æ”¯æŒ.-> Multi
    User --> Scope
    User -.ä¸æ”¯æŒ.-> Meta

    Legacy -.ä¸æ”¯æŒ.-> Multi
    Legacy -.ä¸æ”¯æŒ.-> Meta

    Project --> P1
    User --> P2
    Legacy --> P3

    classDef darkPurple fill:#772d8b,stroke:#772d8b,stroke-width:3px,color:#fff
    classDef teal fill:#77a0a9,stroke:#77a0a9,stroke-width:3px,color:#fff
    classDef lightPink fill:#f5cbc5,stroke:#b3272c,stroke-width:2px,color:#1d1d1f

    class Project darkPurple
    class User teal
    class Legacy lightPink
`} client:load />

---

## ğŸ›ï¸ è§„åˆ™åº”ç”¨ç±»å‹

### åº”ç”¨ç±»å‹è¯¦è§£

<Mermaid chart={`graph TB
    subgraph "Always - å§‹ç»ˆåº”ç”¨"
        AlwaysDesc["æ— è®ºæç¤ºå†…å®¹<br/>æ€»æ˜¯åŒ…å«"]
        AlwaysUse["é€‚ç”¨åœºæ™¯ï¼š<br/>æ¡†æ¶è§„èŒƒ<br/>è¯­è¨€è§„èŒƒ<br/>ç¼–ç æ ‡å‡†"]
    end

    subgraph "Auto Attached - è‡ªåŠ¨é™„åŠ "
        AutoDesc["åŸºäºæ–‡ä»¶æ¨¡å¼<br/>è‡ªåŠ¨åŒ¹é…"]
        AutoUse["é€‚ç”¨åœºæ™¯ï¼š<br/>ç‰¹å®šæ–‡ä»¶ç±»å‹<br/>ç›®å½•èŒƒå›´<br/>å‘½åæ¨¡å¼"]
    end

    subgraph "Agent Requested - æ™ºèƒ½è¯·æ±‚"
        AgentDesc["AI æ ¹æ®æ„å›¾<br/>æ™ºèƒ½é€‰æ‹©"]
        AgentUse["é€‚ç”¨åœºæ™¯ï¼š<br/>å¤æ‚é¡¹ç›®<br/>å¤šç§è§„èŒƒ<br/>ä¸Šä¸‹æ–‡ç›¸å…³"]
    end

    subgraph "Manual - æ‰‹åŠ¨é™„åŠ "
        ManualDesc["ç”¨æˆ·æ˜¾å¼<br/>æŒ‡å®šè§„åˆ™"]
        ManualUse["é€‚ç”¨åœºæ™¯ï¼š<br/>ç‰¹æ®Šä»»åŠ¡<br/>ä¸´æ—¶è§„èŒƒ<br/>å®éªŒæ€§è§„åˆ™"]
    end

    AlwaysDesc --> AlwaysUse
    AutoDesc --> AutoUse
    AgentDesc --> AgentUse
    ManualDesc --> ManualUse

    classDef darkRed fill:#b3272c,stroke:#b3272c,stroke-width:3px,color:#fff
    classDef darkPurple fill:#772d8b,stroke:#772d8b,stroke-width:3px,color:#fff
    classDef teal fill:#77a0a9,stroke:#77a0a9,stroke-width:3px,color:#fff
    classDef lightGreen fill:#d3f9b5,stroke:#772d8b,stroke-width:2px,color:#1d1d1f

    class AlwaysDesc darkRed
    class AutoDesc darkPurple
    class AgentDesc teal
    class ManualDesc lightGreen
`} client:load />

### åº”ç”¨ç±»å‹é€‰æ‹©å†³ç­–æ ‘

<Mermaid chart={`flowchart TD
    Start{è§„åˆ™æ€§è´¨?} --> Framework[æ¡†æ¶/è¯­è¨€è§„èŒƒ]
    Start --> FileType[æ–‡ä»¶ç±»å‹ç‰¹å®š]
    Start --> Context[ä¸Šä¸‹æ–‡ç›¸å…³]
    Start --> Special[ç‰¹æ®Šä»»åŠ¡]

    Framework --> Always["ä½¿ç”¨ Always<br/>å§‹ç»ˆç”Ÿæ•ˆ"]
    FileType --> CheckPattern{æœ‰æ˜ç¡®æ¨¡å¼?}
    Context --> AgentReq["ä½¿ç”¨ Agent Requested<br/>AI æ™ºèƒ½åˆ¤æ–­"]
    Special --> Manual["ä½¿ç”¨ Manual<br/>æ‰‹åŠ¨æ§åˆ¶"]

    CheckPattern -->|æ˜¯| AutoAttach["ä½¿ç”¨ Auto Attached<br/>æ¨¡å¼åŒ¹é…"]
    CheckPattern -->|å¦| AgentReq

    Always --> Example1["ä¾‹ï¼šTypeScript è§„èŒƒ<br/>React æœ€ä½³å®è·µ"]
    AutoAttach --> Example2["ä¾‹ï¼š*.test.ts â†’ æµ‹è¯•è§„èŒƒ<br/>api/**/* â†’ API è§„èŒƒ"]
    AgentReq --> Example3["ä¾‹ï¼šæ€§èƒ½ä¼˜åŒ–å»ºè®®<br/>å®‰å…¨å®¡æŸ¥è§„åˆ™"]
    Manual --> Example4["ä¾‹ï¼šå®éªŒæ€§ AI æ¨¡å‹<br/>ä¸´æ—¶è¿ç§»æŒ‡å—"]

    classDef darkPurple fill:#772d8b,stroke:#772d8b,stroke-width:3px,color:#fff
    classDef teal fill:#77a0a9,stroke:#77a0a9,stroke-width:3px,color:#fff
    classDef lightGreen fill:#d3f9b5,stroke:#772d8b,stroke-width:2px,color:#1d1d1f

    class Always darkPurple
    class AutoAttach teal
    class AgentReq lightGreen
`} client:load />

---

## ğŸ“ MDC æ ¼å¼è¯¦è§£

### MDC æ–‡ä»¶ç»“æ„

MDC (Markdown Components) æ˜¯ Cursor é¡¹ç›®è§„åˆ™çš„æ ‡å‡†æ ¼å¼ã€‚

<Mermaid chart={`graph TB
    subgraph "MDC æ–‡ä»¶ç»“æ„"
        Frontmatter["--- Frontmatter ---<br/>YAML å…ƒæ•°æ®"]
        Content["Markdown å†…å®¹<br/>è§„åˆ™æè¿°"]
        Examples["ä»£ç ç¤ºä¾‹<br/>æœ€ä½³å®è·µ"]
    end

    subgraph "Frontmatter å­—æ®µ"
        Description["description<br/>è§„åˆ™æè¿°"]
        Globs["globs<br/>æ–‡ä»¶æ¨¡å¼åŒ¹é…"]
        AlwaysApply["alwaysApply<br/>æ˜¯å¦å§‹ç»ˆåº”ç”¨"]
        Tags["tags<br/>åˆ†ç±»æ ‡ç­¾"]
        Priority["priority<br/>ä¼˜å…ˆçº§"]
    end

    subgraph "å†…å®¹ç»„ç»‡"
        Overview["æ¦‚è§ˆè¯´æ˜"]
        Rules["å…·ä½“è§„åˆ™"]
        Examples2["ç¤ºä¾‹ä»£ç "]
        AntiPatterns["åæ¨¡å¼"]
    end

    Frontmatter --> Description
    Frontmatter --> Globs
    Frontmatter --> AlwaysApply

    Content --> Overview
    Content --> Rules
    Content --> Examples2

    Examples --> AntiPatterns

    classDef lightPink fill:#f5cbc5,stroke:#b3272c,stroke-width:2px,color:#1d1d1f
    classDef darkPurple fill:#772d8b,stroke:#772d8b,stroke-width:3px,color:#fff
    classDef teal fill:#77a0a9,stroke:#77a0a9,stroke-width:3px,color:#fff

    class Frontmatter lightPink
    class Description darkPurple
    class Overview teal
`} client:load />

### MDC å®Œæ•´ç¤ºä¾‹

<ExampleCode
  title="TypeScript ç¼–ç è§„èŒƒ - å®Œæ•´ MDC ç¤ºä¾‹"
  language="markdown"
  code={`---
description: TypeScript æœ€ä½³å®è·µå’Œç¼–ç è§„èŒƒ
globs:
  - "**/*.ts"
  - "**/*.tsx"
alwaysApply: true
tags:
  - typescript
  - coding-standards
priority: high
---

# TypeScript ç¼–ç è§„èŒƒ

## æ ¸å¿ƒåŸåˆ™

1. **ç±»å‹å®‰å…¨ä¼˜å…ˆ** - é¿å…ä½¿ç”¨ \\\`any\\\`
2. **æ˜¾å¼ä¼˜äºéšå¼** - æ˜ç¡®å£°æ˜ç±»å‹
3. **å‡½æ•°å¼ç¼–ç¨‹** - ä¼˜å…ˆä½¿ç”¨ä¸å¯å˜æ•°æ®

## ç±»å‹å®šä¹‰è§„åˆ™

### âœ… æ¨èåšæ³•

\\\`\\\`\\\`typescript
// æ˜¾å¼å‡½æ•°è¿”å›ç±»å‹
function calculateTotal(items: Item[]): number {
  return items.reduce((sum, item) => sum + item.price, 0);
}

// ä½¿ç”¨ interface è€Œé type (é™¤ééœ€è¦è”åˆç±»å‹)
interface User {
  id: string;
  name: string;
  email: string;
}

// ä½¿ç”¨ unknown ä»£æ›¿ any
function parseJSON(json: string): unknown {
  return JSON.parse(json);
}
\\\`\\\`\\\`

### âŒ é¿å…çš„åšæ³•

\\\`\\\`\\\`typescript
// âŒ éšå¼ any
function process(data) {
  return data.value;
}

// âŒ ä½¿ç”¨ any ç±»å‹
function handleEvent(event: any) {
  console.log(event.target.value);
}

// âŒ ä¸å£°æ˜è¿”å›ç±»å‹
function getUserName(user: User) {
  return user.name;
}
\\\`\\\`\\\`

## å‘½åçº¦å®š

- **å˜é‡**: camelCase - \\\`userName\\\`, \\\`totalPrice\\\`
- **ç±»å‹/æ¥å£**: PascalCase - \\\`User\\\`, \\\`ApiResponse\\\`
- **å¸¸é‡**: UPPER_SNAKE_CASE - \\\`MAX_RETRIES\\\`, \\\`API_URL\\\`
- **ç§æœ‰æˆå‘˜**: å‰ç¼€ä¸‹åˆ’çº¿ - \\\`_internalState\\\`

## é”™è¯¯å¤„ç†

å§‹ç»ˆä½¿ç”¨ç±»å‹å®‰å…¨çš„é”™è¯¯å¤„ç†ï¼š

\\\`\\\`\\\`typescript
// âœ… ç±»å‹å®‰å…¨çš„é”™è¯¯å¤„ç†
type Result<T, E = Error> =
  | { success: true; data: T }
  | { success: false; error: E };

async function fetchUser(id: string): Promise<Result<User>> {
  try {
    const response = await api.get(\\\`/users/\\\${id}\\\`);
    return { success: true, data: response.data };
  } catch (error) {
    return {
      success: false,
      error: error instanceof Error ? error : new Error('Unknown error')
    };
  }
}
\\\`\\\`\\\`

## å¸¸è§é™·é˜±

1. **ç±»å‹æ–­è¨€æ»¥ç”¨** - é¿å…è¿‡åº¦ä½¿ç”¨ \\\`as\\\` æ–­è¨€
2. **å¯é€‰é“¾è¯¯ç”¨** - ä¸è¦åœ¨æ˜ç¡®éç©ºçš„åœ°æ–¹ä½¿ç”¨ \\\`?.\\\`
3. **æšä¸¾ vs è”åˆç±»å‹** - ä¼˜å…ˆä½¿ç”¨å­—é¢é‡è”åˆç±»å‹

## SDK ç‰ˆæœ¬

ç¡®ä¿ä½¿ç”¨ TypeScript 5.3+ çš„æ–°ç‰¹æ€§ã€‚`}
  previewLines={10}
  client:load
/>

---

## ğŸš€ åˆ›å»º Cursor Rules

### åˆ›å»ºæµç¨‹

<Mermaid chart={`sequenceDiagram
    participant Dev as å¼€å‘è€…
    participant Dir as .cursor/rules/
    participant File as rule.mdc
    participant Cursor as Cursor AI
    participant Code as ç”Ÿæˆä»£ç 

    Dev->>Dev: 1. åˆ†æé¡¹ç›®éœ€æ±‚
    Dev->>Dir: 2. åˆ›å»ºè§„åˆ™ç›®å½•
    Dev->>File: 3. ç¼–å†™ MDC æ–‡ä»¶

    Note over File: å®šä¹‰ frontmatter<br/>ç¼–å†™è§„åˆ™å†…å®¹<br/>æ·»åŠ ç¤ºä¾‹ä»£ç 

    Dev->>Cursor: 4. æµ‹è¯•è§„åˆ™
    Cursor->>Cursor: åŠ è½½è§„åˆ™ä¸Šä¸‹æ–‡
    Cursor->>Code: ç”Ÿæˆä»£ç 

    Code-->>Dev: 5. éªŒè¯è¾“å‡º
    Dev->>File: 6. è¿­ä»£ä¼˜åŒ–

    loop æŒç»­æ”¹è¿›
        Dev->>Cursor: æµ‹è¯•è¾¹ç•Œæƒ…å†µ
        Cursor->>Code: ç”Ÿæˆä»£ç 
        Code-->>Dev: éªŒè¯è´¨é‡
        Dev->>File: æ›´æ–°è§„åˆ™
    end
`} client:load />

### æ­¥éª¤è¯¦è§£

#### æ­¥éª¤ 1: åˆ›å»ºè§„åˆ™ç›®å½•

```bash
# åˆ›å»ºé¡¹ç›®è§„åˆ™ç›®å½•
mkdir -p .cursor/rules

# åˆ›å»ºå­æ¨¡å—è§„åˆ™ç›®å½•ï¼ˆå¯é€‰ï¼‰
mkdir -p backend/.cursor/rules
mkdir -p frontend/.cursor/rules
```

#### æ­¥éª¤ 2: åˆ›å»ºç¬¬ä¸€ä¸ªè§„åˆ™

```bash
# åˆ›å»ºåŸºç¡€è§„åˆ™æ–‡ä»¶
touch .cursor/rules/base.mdc
```

**åŸºç¡€æ¨¡æ¿ï¼š**

<ExampleCode
  title="é¡¹ç›®åŸºç¡€ç¼–ç è§„èŒƒ - base.mdc"
  language="markdown"
  code={`---
description: é¡¹ç›®åŸºç¡€ç¼–ç è§„èŒƒ
alwaysApply: true
---

# é¡¹ç›®ç¼–ç è§„èŒƒ

## æŠ€æœ¯æ ˆ

- TypeScript 5.3+
- React 18+
- Node.js 20+

## ä»£ç é£æ ¼

- ä½¿ç”¨ 2 ç©ºæ ¼ç¼©è¿›
- å•å¼•å·ä¼˜äºåŒå¼•å·
- è¡Œå°¾ä¸åŠ åˆ†å·
- ä½¿ç”¨ Prettier æ ¼å¼åŒ–

## æ–‡ä»¶ç»„ç»‡

\\\`\\\`\\\`
src/
â”œâ”€â”€ components/     # React ç»„ä»¶
â”œâ”€â”€ hooks/          # è‡ªå®šä¹‰ Hooks
â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”œâ”€â”€ types/          # TypeScript ç±»å‹
â””â”€â”€ services/       # API æœåŠ¡
\\\`\\\`\\\`

## å¯¼å…¥é¡ºåº

1. React ç›¸å…³
2. ç¬¬ä¸‰æ–¹åº“
3. é¡¹ç›®å†…éƒ¨æ¨¡å—
4. æ ·å¼æ–‡ä»¶

\\\`\\\`\\\`typescript
// âœ… æ­£ç¡®çš„å¯¼å…¥é¡ºåº
import React, { useState } from 'react';
import { useQuery } from '@tanstack/react-query';
import { Button } from '@/components/ui/Button';
import styles from './Component.module.css';
\\\`\\\`\\\``}
  client:load
/>

#### æ­¥éª¤ 3: åˆ›å»ºç‰¹å®šè§„åˆ™

**React ç»„ä»¶è§„åˆ™ï¼š**

<ExampleCode
  title="React ç»„ä»¶å¼€å‘è§„èŒƒ - react.mdc"
  language="bash"
  code={`cat > .cursor/rules/react.mdc << 'EOF'
---
description: React ç»„ä»¶å¼€å‘è§„èŒƒ
globs:
  - "**/*.tsx"
  - "**/components/**/*.ts"
alwaysApply: false
tags:
  - react
  - components
---

# React ç»„ä»¶è§„èŒƒ

## ç»„ä»¶ç»“æ„

ä½¿ç”¨å‡½æ•°ç»„ä»¶ + Hooksï¼Œé¿å…ç±»ç»„ä»¶ã€‚

### æ ‡å‡†ç»„ä»¶æ¨¡æ¿

\\\`\\\`\\\`typescript
import React from 'react';

interface UserCardProps {
  user: {
    name: string;
    email: string;
  };
  onEdit?: () => void;
}

export function UserCard({ user, onEdit }: UserCardProps) {
  return (
    <div className="user-card">
      <h3>{user.name}</h3>
      <p>{user.email}</p>
      {onEdit && <button onClick={onEdit}>Edit</button>}
    </div>
  );
}
\\\`\\\`\\\`

## Hooks ä½¿ç”¨è§„èŒƒ

1. **useState** - ç®€å•çŠ¶æ€
2. **useReducer** - å¤æ‚çŠ¶æ€é€»è¾‘
3. **useEffect** - å‰¯ä½œç”¨ï¼ˆæ€»æ˜¯æ·»åŠ ä¾èµ–æ•°ç»„ï¼‰
4. **useMemo** - æ˜‚è´µè®¡ç®—ç¼“å­˜
5. **useCallback** - å‡½æ•°å¼•ç”¨ç¨³å®š

### âœ… å¥½çš„å®è·µ

\\\`\\\`\\\`typescript
// æ­£ç¡®çš„ useEffect
useEffect(() => {
  const subscription = api.subscribe(userId);
  return () => subscription.unsubscribe();
}, [userId]);

// æ­£ç¡®çš„ useCallback
const handleClick = useCallback(() => {
  onItemClick(item.id);
}, [item.id, onItemClick]);
\\\`\\\`\\\`

### âŒ é¿å…çš„åšæ³•

\\\`\\\`\\\`typescript
// âŒ ç¼ºå°‘ä¾èµ–æ•°ç»„
useEffect(() => {
  fetchData();
});

// âŒ ä¸å¿…è¦çš„ useCallback
const handleClick = useCallback(() => {
  console.log('clicked');
}, []); // ç®€å•å‡½æ•°ä¸éœ€è¦ useCallback
\\\`\\\`\\\`

## æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨ \\\`React.memo\\\` ä¼˜åŒ–çº¯ç»„ä»¶
- ä½¿ç”¨ \\\`useMemo\\\` ç¼“å­˜è®¡ç®—ç»“æœ
- ä½¿ç”¨ \\\`useCallback\\\` ç¨³å®šå‡½æ•°å¼•ç”¨
- é¿å…åœ¨ render ä¸­åˆ›å»ºæ–°å¯¹è±¡/æ•°ç»„

## å¯è®¿é—®æ€§

- ä½¿ç”¨è¯­ä¹‰åŒ– HTML æ ‡ç­¾
- æ·»åŠ  ARIA å±æ€§
- æ”¯æŒé”®ç›˜å¯¼èˆª
- æä¾› alt æ–‡æœ¬

\\\`\\\`\\\`typescript
<button
  aria-label="Delete item"
  aria-pressed={isSelected}
  onClick={handleDelete}
>
  <TrashIcon />
</button>
\\\`\\\`\\\`
EOF`}
  client:load
/>

**API è®¾è®¡è§„åˆ™ï¼š**

<ExampleCode
  title="REST API è®¾è®¡è§„èŒƒ - api-design.mdc"
  language="bash"
  previewLines={10}
  code={`cat > .cursor/rules/api-design.mdc << 'EOF'
---
description: REST API è®¾è®¡è§„èŒƒ
globs:
  - "**/api/**/*.ts"
  - "**/routes/**/*.ts"
alwaysApply: false
tags:
  - api
  - backend
---

# API è®¾è®¡è§„èŒƒ

## RESTful åŸåˆ™

### èµ„æºå‘½å

- ä½¿ç”¨å¤æ•°åè¯ï¼š\\\`/users\\\`, \\\`/posts\\\`
- ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦ï¼š\\\`/user-profiles\\\`
- åµŒå¥—èµ„æºï¼š\\\`/users/:id/posts\\\`

### HTTP æ–¹æ³•

- **GET** - è·å–èµ„æº
- **POST** - åˆ›å»ºèµ„æº
- **PUT** - å®Œæ•´æ›´æ–°èµ„æº
- **PATCH** - éƒ¨åˆ†æ›´æ–°èµ„æº
- **DELETE** - åˆ é™¤èµ„æº

### çŠ¶æ€ç 

\\\`\\\`\\\`typescript
// âœ… æ­£ç¡®ä½¿ç”¨çŠ¶æ€ç 
export const HTTP_STATUS = {
  OK: 200,
  CREATED: 201,
  NO_CONTENT: 204,
  BAD_REQUEST: 400,
  UNAUTHORIZED: 401,
  FORBIDDEN: 403,
  NOT_FOUND: 404,
  INTERNAL_SERVER_ERROR: 500,
} as const;
\\\`\\\`\\\`

## å“åº”æ ¼å¼

ç»Ÿä¸€çš„ API å“åº”ç»“æ„ï¼š

\\\`\\\`\\\`typescript
// æˆåŠŸå“åº”
interface SuccessResponse<T> {
  success: true;
  data: T;
  meta?: {
    page?: number;
    limit?: number;
    total?: number;
  };
}

// é”™è¯¯å“åº”
interface ErrorResponse {
  success: false;
  error: {
    code: string;
    message: string;
    details?: unknown;
  };
}

type ApiResponse<T> = SuccessResponse<T> | ErrorResponse;
\\\`\\\`\\\`

## é”™è¯¯å¤„ç†

\\\`\\\`\\\`typescript
// âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†
class ApiError extends Error {
  constructor(
    public statusCode: number,
    public code: string,
    message: string
  ) {
    super(message);
    this.name = 'ApiError';
  }
}

// ä½¿ç”¨ç¤ºä¾‹
app.use((err: Error, req: Request, res: Response) => {
  if (err instanceof ApiError) {
    res.status(err.statusCode).json({
      success: false,
      error: {
        code: err.code,
        message: err.message,
      },
    });
  } else {
    res.status(500).json({
      success: false,
      error: {
        code: 'INTERNAL_ERROR',
        message: 'An unexpected error occurred',
      },
    });
  }
});
\\\`\\\`\\\`

## éªŒè¯

ä½¿ç”¨ Zod è¿›è¡Œè¯·æ±‚éªŒè¯ï¼š

\\\`\\\`\\\`typescript
import { z } from 'zod';

const createUserSchema = z.object({
  name: z.string().min(1).max(100),
  email: z.string().email(),
  age: z.number().int().positive().optional(),
});

// åœ¨è·¯ç”±ä¸­ä½¿ç”¨
app.post('/users', async (req, res) => {
  const result = createUserSchema.safeParse(req.body);

  if (!result.success) {
    return res.status(400).json({
      success: false,
      error: {
        code: 'VALIDATION_ERROR',
        message: 'Invalid request data',
        details: result.error.format(),
      },
    });
  }

  // å¤„ç†éªŒè¯é€šè¿‡çš„æ•°æ®
  const user = await createUser(result.data);
  res.status(201).json({
    success: true,
    data: user,
  });
});
\\\`\\\`\\\`

## è®¤è¯ä¸æˆæƒ

\\\`\\\`\\\`typescript
// JWT è®¤è¯ä¸­é—´ä»¶
const authenticate = async (req: Request, res: Response, next: Function) => {
  const token = req.headers.authorization?.replace('Bearer ', '');

  if (!token) {
    return res.status(401).json({
      success: false,
      error: {
        code: 'UNAUTHORIZED',
        message: 'Authentication required',
      },
    });
  }

  try {
    const payload = verifyJWT(token);
    req.user = payload;
    next();
  } catch (error) {
    return res.status(401).json({
      success: false,
      error: {
        code: 'INVALID_TOKEN',
        message: 'Invalid or expired token',
      },
    });
  }
};
\\\`\\\`\\\`
EOF`}
  client:load
/>

---

## ğŸ¨ è§„åˆ™è®¾è®¡æœ€ä½³å®è·µ

### 10 æ¡é»„é‡‘æ³•åˆ™

<Mermaid chart={`mindmap
    root((10æ¡é»„é‡‘æ³•åˆ™))
        1. æ˜ç¡®è§„åˆ™ç±»å‹
            Always - æ¡†æ¶è§„èŒƒ
            Auto - æ–‡ä»¶æ¨¡å¼
            Agent - æ™ºèƒ½é€‰æ‹©
            Manual - æ‰‹åŠ¨æ§åˆ¶
        2. é«˜å±‚çº§æ¦‚è¿°
            æ¸…æ™°çš„ç›®æ ‡
            æŠ€æœ¯æ ˆè¯´æ˜
            æ ¸å¿ƒåŸåˆ™
        3. æŒ‡å®šå¿…è¦å…ƒç´ 
            SDK ç‰ˆæœ¬
            å¯¼å…¥è¯­å¥
            é”™è¯¯å¤„ç†
            æ–‡æ¡£æ ‡å‡†
        4. æ ‡è®°åºŸå¼ƒæ¨¡å¼
            æ˜¾ç¤ºæ—§ä»£ç 
            æä¾›æ–°æ–¹æ¡ˆ
            è¯´æ˜åŸå› 
        5. åˆ›å»ºç¤ºä¾‹æ¨¡å¼
            å®Œæ•´ä»£ç 
            è¯¦ç»†æ³¨é‡Š
            å®é™…ç”¨ä¾‹
        6. åŒ…å«éªŒè¯æ­¥éª¤
            é€šè¿‡/å¤±è´¥æ£€æŸ¥
            åæœè¯´æ˜
            ä¿®å¤å»ºè®®
        7. æŒ‰ç±»åˆ«ç»„ç»‡
            é€»è¾‘åˆ†ç»„
            å¤šæ–‡ä»¶ç»“æ„
            æ¸…æ™°ç›®å½•
        8. å½»åº•æµ‹è¯•
            è¾¹ç•Œæƒ…å†µ
            é”™è¯¯åœºæ™¯
            æ€§èƒ½å½±å“
        9. æ–‡æ¡£åŒ–é™·é˜±
            å¸¸è§é”™è¯¯
            è§£å†³æ–¹æ¡ˆ
            é¢„é˜²æªæ–½
        10. ä¿æŒæ›´æ–°
            æ¡†æ¶å‡çº§
            API å˜æ›´
            å›¢é˜Ÿåé¦ˆ
`} client:load />

### è§„åˆ™ç¼–å†™æ¨¡æ¿

<Mermaid chart={`graph TB
    subgraph "è§„åˆ™ç»“æ„æ¨¡æ¿"
        Section1["1. æ¦‚è§ˆ (Overview)<br/>30%"]
        Section2["2. è§„åˆ™ (Rules)<br/>40%"]
        Section3["3. ç¤ºä¾‹ (Examples)<br/>20%"]
        Section4["4. é™·é˜± (Pitfalls)<br/>10%"]
    end

    Section1 --> Overview["â€¢ æŠ€æœ¯æ ˆ<br/>â€¢ æ ¸å¿ƒåŸåˆ™<br/>â€¢ é€‚ç”¨èŒƒå›´"]
    Section2 --> Rules["â€¢ å…·ä½“è§„åˆ™<br/>â€¢ å‘½åçº¦å®š<br/>â€¢ ä»£ç ç»“æ„"]
    Section3 --> Examples["â€¢ âœ… å¥½çš„å®è·µ<br/>â€¢ âŒ é¿å…çš„åšæ³•<br/>â€¢ å®Œæ•´ç¤ºä¾‹"]
    Section4 --> Pitfalls["â€¢ å¸¸è§é”™è¯¯<br/>â€¢ è§£å†³æ–¹æ¡ˆ<br/>â€¢ æœ€ä½³å®è·µ"]

    classDef darkPurple fill:#772d8b,stroke:#772d8b,stroke-width:3px,color:#fff
    classDef teal fill:#77a0a9,stroke:#77a0a9,stroke-width:3px,color:#fff
    classDef lightGreen fill:#d3f9b5,stroke:#772d8b,stroke-width:2px,color:#1d1d1f
    classDef lightPink fill:#f5cbc5,stroke:#b3272c,stroke-width:2px,color:#1d1d1f

    class Section1 darkPurple
    class Section2 teal
    class Section3 lightGreen
    class Section4 lightPink
`} client:load />

---

## ğŸ“š å®æˆ˜ç¤ºä¾‹åº“

### ç¤ºä¾‹ 1: Next.js + TypeScript è§„åˆ™

<ExampleCode
  title="Next.js 13+ App Router å¼€å‘è§„èŒƒ - nextjs.mdc"
  language="markdown"
  previewLines={10}
  code={`---
description: Next.js 13+ App Router å¼€å‘è§„èŒƒ
globs:
  - "**/app/**/*.tsx"
  - "**/app/**/*.ts"
alwaysApply: false
tags:
  - nextjs
  - app-router
---

# Next.js App Router è§„èŒƒ

## ç‰ˆæœ¬è¦æ±‚

- Next.js 14+
- React 18+
- TypeScript 5.3+

## æ–‡ä»¶çº¦å®š

### ç‰¹æ®Šæ–‡ä»¶

- \\\`page.tsx\\\` - é¡µé¢ç»„ä»¶
- \\\`layout.tsx\\\` - å¸ƒå±€ç»„ä»¶
- \\\`loading.tsx\\\` - åŠ è½½çŠ¶æ€
- \\\`error.tsx\\\` - é”™è¯¯å¤„ç†
- \\\`not-found.tsx\\\` - 404 é¡µé¢

### è·¯ç”±ç»“æ„

\\\`\\\`\\\`
app/
â”œâ”€â”€ (auth)/
â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â””â”€â”€ layout.tsx
â”œâ”€â”€ (dashboard)/
â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â””â”€â”€ layout.tsx
â””â”€â”€ layout.tsx
\\\`\\\`\\\`

## Server Components ä¼˜å…ˆ

é»˜è®¤ä½¿ç”¨ Server Componentsï¼Œåªåœ¨éœ€è¦æ—¶ä½¿ç”¨ Client Componentsã€‚

### âœ… Server Component

\\\`\\\`\\\`typescript
// app/users/page.tsx
async function UsersPage() {
  const users = await fetchUsers(); // ç›´æ¥åœ¨ç»„ä»¶ä¸­è·å–æ•°æ®

  return (
    <div>
      {users.map(user => (
        <UserCard key={user.id} user={user} />
      ))}
    </div>
  );
}

export default UsersPage;
\\\`\\\`\\\`

### âœ… Client Component (éœ€è¦äº¤äº’)

\\\`\\\`\\\`typescript
'use client'; // æ˜ç¡®æ ‡è®°ä¸º Client Component

import { useState } from 'react';

export function Counter() {
  const [count, setCount] = useState(0);

  return (
    <button onClick={() => setCount(count + 1)}>
      Count: {count}
    </button>
  );
}
\\\`\\\`\\\`

## æ•°æ®è·å–

### Server-side æ•°æ®è·å–

\\\`\\\`\\\`typescript
// âœ… ä½¿ç”¨ fetch å¹¶é…ç½®ç¼“å­˜
async function getData() {
  const res = await fetch('https://api.example.com/data', {
    next: { revalidate: 3600 } // ISR: æ¯å°æ—¶é‡æ–°éªŒè¯
  });

  if (!res.ok) {
    throw new Error('Failed to fetch data');
  }

  return res.json();
}
\\\`\\\`\\\`

### Parallel æ•°æ®è·å–

\\\`\\\`\\\`typescript
// âœ… å¹¶è¡Œè·å–å¤šä¸ªæ•°æ®æº
async function Page() {
  const [users, posts] = await Promise.all([
    fetchUsers(),
    fetchPosts()
  ]);

  return <Dashboard users={users} posts={posts} />;
}
\\\`\\\`\\\`

## Metadata

\\\`\\\`\\\`typescript
import type { Metadata } from 'next';

// âœ… é™æ€ metadata
export const metadata: Metadata = {
  title: 'Users',
  description: 'User management page',
};

// âœ… åŠ¨æ€ metadata
export async function generateMetadata({ params }): Promise<Metadata> {
  const user = await fetchUser(params.id);

  return {
    title: user.name,
    description: \`Profile of \${user.name}\`,
  };
}
\\\`\\\`\\\`

## æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨ \\\`<Image>\\\` ç»„ä»¶ä¼˜åŒ–å›¾ç‰‡
- ä½¿ç”¨ \\\`<Link>\\\` ç»„ä»¶å®ç°é¢„åŠ è½½
- åˆ©ç”¨ Suspense å®ç°æµå¼æ¸²æŸ“
- åˆç†ä½¿ç”¨ç¼“å­˜ç­–ç•¥

\\\`\\\`\\\`typescript
import Image from 'next/image';
import Link from 'next/link';

export function UserCard({ user }) {
  return (
    <Link href={\`/users/\${user.id}\`} prefetch={true}>
      <Image
        src={user.avatar}
        alt={user.name}
        width={200}
        height={200}
        priority={false}
      />
      <h3>{user.name}</h3>
    </Link>
  );
}
\\\`\\\`\\\``}
  client:load
/>

### ç¤ºä¾‹ 2: æµ‹è¯•è§„èŒƒ

<ExampleCode
  title="Jest + React Testing Library æµ‹è¯•è§„èŒƒ - testing.mdc"
  language="markdown"
  previewLines={10}
  code={`---
description: Jest + React Testing Library æµ‹è¯•è§„èŒƒ
globs:
  - "**/*.test.ts"
  - "**/*.test.tsx"
  - "**/__tests__/**"
alwaysApply: false
tags:
  - testing
  - jest
  - rtl
---

# æµ‹è¯•è§„èŒƒ

## æµ‹è¯•é‡‘å­—å¡”

1. **å•å…ƒæµ‹è¯• (70%)** - å‡½æ•°ã€Hooksã€Utils
2. **é›†æˆæµ‹è¯• (20%)** - ç»„ä»¶äº¤äº’
3. **E2E æµ‹è¯• (10%)** - å…³é”®ç”¨æˆ·æµç¨‹

## å‘½åçº¦å®š

\\\`\\\`\\\`typescript
// æ–‡ä»¶å‘½å
Component.test.tsx
utils.test.ts
hooks.test.ts

// describe å—å‘½å
describe('ComponentName', () => {
  describe('methodName', () => {
    it('should do something when condition', () => {
      // ...
    });
  });
});
\\\`\\\`\\\`

## React Testing Library åŸåˆ™

### âœ… æ¨èæŸ¥è¯¢ä¼˜å…ˆçº§

1. **getByRole** - å¯è®¿é—®æ€§ä¼˜å…ˆ
2. **getByLabelText** - è¡¨å•å…ƒç´ 
3. **getByPlaceholderText** - è¾“å…¥æç¤º
4. **getByText** - éäº¤äº’å…ƒç´ 
5. **getByTestId** - æœ€åé€‰æ‹©

\\\`\\\`\\\`typescript
import { render, screen } from '@testing-library/react';
import userEvent from '@testing-library/user-event';

describe('LoginForm', () => {
  it('should submit form with valid credentials', async () => {
    const user = userEvent.setup();
    const handleSubmit = jest.fn();

    render(<LoginForm onSubmit={handleSubmit} />);

    // âœ… ä½¿ç”¨ getByRole
    const emailInput = screen.getByRole('textbox', { name: /email/i });
    const passwordInput = screen.getByLabelText(/password/i);
    const submitButton = screen.getByRole('button', { name: /log in/i });

    // ç”¨æˆ·äº¤äº’
    await user.type(emailInput, 'user@example.com');
    await user.type(passwordInput, 'password123');
    await user.click(submitButton);

    // æ–­è¨€
    expect(handleSubmit).toHaveBeenCalledWith({
      email: 'user@example.com',
      password: 'password123',
    });
  });
});
\\\`\\\`\\\`

### âŒ é¿å…å®ç°ç»†èŠ‚æµ‹è¯•

\\\`\\\`\\\`typescript
// âŒ ä¸è¦æµ‹è¯•å†…éƒ¨çŠ¶æ€
expect(component.state.count).toBe(1);

// âŒ ä¸è¦æµ‹è¯• CSS ç±»
expect(element.className).toContain('active');

// âœ… æµ‹è¯•ç”¨æˆ·å¯è§çš„è¡Œä¸º
expect(screen.getByText('Count: 1')).toBeInTheDocument();
expect(screen.getByRole('button')).toHaveAttribute('aria-pressed', 'true');
\\\`\\\`\\\`

## Hooks æµ‹è¯•

\\\`\\\`\\\`typescript
import { renderHook, waitFor } from '@testing-library/react';
import { useAsync } from './useAsync';

describe('useAsync', () => {
  it('should handle async operations', async () => {
    const mockFn = jest.fn().mockResolvedValue('result');

    const { result } = renderHook(() => useAsync(mockFn));

    // åˆå§‹çŠ¶æ€
    expect(result.current.loading).toBe(false);
    expect(result.current.data).toBeNull();

    // æ‰§è¡Œå¼‚æ­¥æ“ä½œ
    act(() => {
      result.current.execute();
    });

    expect(result.current.loading).toBe(true);

    // ç­‰å¾…å®Œæˆ
    await waitFor(() => {
      expect(result.current.loading).toBe(false);
    });

    expect(result.current.data).toBe('result');
    expect(mockFn).toHaveBeenCalledTimes(1);
  });
});
\\\`\\\`\\\`

## Mock ç­–ç•¥

\\\`\\\`\\\`typescript
// âœ… Mock å¤–éƒ¨ä¾èµ–
jest.mock('@/services/api', () => ({
  fetchUsers: jest.fn(),
}));

// âœ… Mock æ¨¡å—
jest.mock('next/navigation', () => ({
  useRouter: () => ({
    push: jest.fn(),
    pathname: '/',
  }),
}));

// âœ… æ¸…ç† mocks
afterEach(() => {
  jest.clearAllMocks();
});
\\\`\\\`\\\`

## è¦†ç›–ç‡ç›®æ ‡

- **Statements**: > 80%
- **Branches**: > 75%
- **Functions**: > 80%
- **Lines**: > 80%

## æµ‹è¯•æ€§èƒ½

- ä½¿ç”¨ \\\`screen.queryBy*\\\` æ£€æŸ¥å…ƒç´ ä¸å­˜åœ¨
- ä½¿ç”¨ \\\`waitFor\\\` ç­‰å¾…å¼‚æ­¥æ›´æ–°
- é¿å…ä¸å¿…è¦çš„ \\\`act()\\\` åŒ…è£…
- ä½¿ç”¨ \\\`userEvent\\\` æ›¿ä»£ \\\`fireEvent\\\``}
  client:load
/>

### ç¤ºä¾‹ 3: æ€§èƒ½ä¼˜åŒ–è§„åˆ™

<ExampleCode
  title="Web æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ - performance.mdc"
  language="markdown"
  previewLines={10}
  code={`---
description: Web æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ
alwaysApply: false
tags:
  - performance
  - optimization
---

# æ€§èƒ½ä¼˜åŒ–è§„èŒƒ

## Core Web Vitals ç›®æ ‡

- **LCP** (Largest Contentful Paint): < 2.5s
- **FID** (First Input Delay): < 100ms
- **CLS** (Cumulative Layout Shift): < 0.1

## å›¾ç‰‡ä¼˜åŒ–

### âœ… ä½¿ç”¨ Next.js Image

\\\`\\\`\\\`typescript
import Image from 'next/image';

// âœ… å“åº”å¼å›¾ç‰‡
<Image
  src="/hero.jpg"
  alt="Hero image"
  width={1200}
  height={600}
  priority={true}  // é¦–å±å›¾ç‰‡
  quality={90}
  placeholder="blur"
/>

// âœ… åŠ¨æ€å›¾ç‰‡
<Image
  src={user.avatar}
  alt={user.name}
  fill
  sizes="(max-width: 768px) 100vw, 33vw"
  style={{ objectFit: 'cover' }}
/>
\\\`\\\`\\\`

### å›¾ç‰‡æ ¼å¼é€‰æ‹©

- **WebP** - é€šç”¨åœºæ™¯ (èŠ‚çœ 25-35%)
- **AVIF** - æœ€æ–°æµè§ˆå™¨ (èŠ‚çœ 50%)
- **SVG** - å›¾æ ‡å’Œç®€å•å›¾å½¢
- **PNG** - éœ€è¦é€æ˜åº¦

## ä»£ç åˆ†å‰²

### âœ… åŠ¨æ€å¯¼å…¥

\\\`\\\`\\\`typescript
// âœ… è·¯ç”±çº§åˆ«åˆ†å‰²
const AdminPanel = dynamic(() => import('@/components/AdminPanel'), {
  loading: () => <Skeleton />,
  ssr: false, // ä»…å®¢æˆ·ç«¯
});

// âœ… æ¡ä»¶åŠ è½½
function Dashboard() {
  const [showChart, setShowChart] = useState(false);
  const Chart = showChart
    ? dynamic(() => import('@/components/Chart'))
    : null;

  return (
    <div>
      <button onClick={() => setShowChart(true)}>Show Chart</button>
      {Chart && <Chart />}
    </div>
  );
}
\\\`\\\`\\\`

## React æ€§èƒ½

### âœ… Memoization

\\\`\\\`\\\`typescript
// âœ… React.memo - çº¯ç»„ä»¶
const UserCard = React.memo(({ user }) => {
  return <div>{user.name}</div>;
}, (prevProps, nextProps) => {
  return prevProps.user.id === nextProps.user.id;
});

// âœ… useMemo - æ˜‚è´µè®¡ç®—
const sortedUsers = useMemo(() => {
  return users.sort((a, b) => a.name.localeCompare(b.name));
}, [users]);

// âœ… useCallback - ç¨³å®šå‡½æ•°å¼•ç”¨
const handleClick = useCallback((id: string) => {
  onItemClick(id);
}, [onItemClick]);
\\\`\\\`\\\`

### âŒ è¿‡åº¦ä¼˜åŒ–

\\\`\\\`\\\`typescript
// âŒ ç®€å•è®¡ç®—ä¸éœ€è¦ useMemo
const fullName = useMemo(() => \`\${first} \${last}\`, [first, last]);

// âœ… ç›´æ¥è®¡ç®—
const fullName = \`\${first} \${last}\`;
\\\`\\\`\\\`

## Bundle ä¼˜åŒ–

### åˆ†æ Bundle å¤§å°

\\\`\\\`\\\`bash
# åˆ†æå·¥å…·
npm run build -- --analyze

# æ£€æŸ¥å¤§å‹ä¾èµ–
npx webpack-bundle-analyzer .next/analyze/client.html
\\\`\\\`\\\`

### Tree Shaking

\\\`\\\`\\\`typescript
// âœ… å…·åå¯¼å…¥
import { debounce } from 'lodash-es';

// âŒ é»˜è®¤å¯¼å…¥ (åŒ…å«æ•´ä¸ªåº“)
import _ from 'lodash';

// âœ… ä½¿ç”¨ ES Modules ç‰ˆæœ¬
import debounce from 'lodash-es/debounce';
\\\`\\\`\\\`

## ç½‘ç»œä¼˜åŒ–

### âœ… Prefetch & Preload

\\\`\\\`\\\`typescript
// âœ… é¢„åŠ è½½å…³é”®èµ„æº
<link rel="preload" href="/fonts/main.woff2" as="font" crossorigin />

// âœ… DNS é¢„è§£æ
<link rel="dns-prefetch" href="https://api.example.com" />

// âœ… Link prefetch
<Link href="/dashboard" prefetch={true}>
  Dashboard
</Link>
\\\`\\\`\\\`

### æ•°æ®è·å–ä¼˜åŒ–

\\\`\\\`\\\`typescript
// âœ… å¹¶è¡Œè¯·æ±‚
const [users, posts] = await Promise.all([
  fetchUsers(),
  fetchPosts()
]);

// âœ… SWR / React Query ç¼“å­˜
import useSWR from 'swr';

function Profile() {
  const { data, error, isLoading } = useSWR('/api/user', fetcher, {
    revalidateOnFocus: false,
    dedupingInterval: 60000, // 60ç§’å†…å»é‡
  });
}
\\\`\\\`\\\`

## æ€§èƒ½ç›‘æ§

\\\`\\\`\\\`typescript
// âœ… Web Vitals ç›‘æ§
import { getCLS, getFID, getLCP } from 'web-vitals';

getCLS(console.log);
getFID(console.log);
getLCP(console.log);

// âœ… Performance API
const start = performance.now();
// ... æ“ä½œ
const duration = performance.now() - start;
console.log(\\\`Operation took \\\${duration}ms\\\`);
\\\`\\\`\\\``}
  client:load
/>

---

## ğŸ”„ è§„åˆ™åº”ç”¨æµç¨‹

### è§„åˆ™åŠ è½½ä¸åº”ç”¨

<Mermaid chart={`sequenceDiagram
    participant User as ç”¨æˆ·
    participant Cursor as Cursor IDE
    participant Rules as Rules Engine
    participant Context as Context Manager
    participant AI as AI Model

    User->>Cursor: å‘èµ·è¯·æ±‚ (Composer/Chat)
    Cursor->>Rules: è¯·æ±‚åŠ è½½è§„åˆ™

    alt Always è§„åˆ™
        Rules->>Rules: åŠ è½½æ‰€æœ‰ alwaysApply: true
        Rules->>Context: æ³¨å…¥åˆ°ä¸Šä¸‹æ–‡
    end

    alt Auto Attached è§„åˆ™
        Rules->>Rules: æ£€æŸ¥æ–‡ä»¶æ¨¡å¼ (globs)
        Rules->>Rules: åŒ¹é…å½“å‰æ–‡ä»¶
        Rules->>Context: æ³¨å…¥åŒ¹é…çš„è§„åˆ™
    end

    alt Agent Requested è§„åˆ™
        Rules->>AI: åˆ†æç”¨æˆ·æ„å›¾
        AI-->>Rules: è¿”å›ç›¸å…³è§„åˆ™åˆ—è¡¨
        Rules->>Context: æ³¨å…¥ç›¸å…³è§„åˆ™
    end

    alt Manual è§„åˆ™
        User->>Cursor: æ‰‹åŠ¨é€‰æ‹©è§„åˆ™
        Cursor->>Rules: åŠ è½½æŒ‡å®šè§„åˆ™
        Rules->>Context: æ³¨å…¥é€‰å®šè§„åˆ™
    end

    Context->>AI: å‘é€å®Œæ•´ä¸Šä¸‹æ–‡
    Note over Context,AI: System Prompt<br/>+ Rules<br/>+ User Message

    AI->>AI: ç”Ÿæˆä»£ç 
    AI-->>Cursor: è¿”å›ç»“æœ
    Cursor-->>User: å±•ç¤ºä»£ç 

    User->>Cursor: éªŒè¯è§„åˆ™éµå®ˆæƒ…å†µ
    Cursor->>Rules: æ£€æŸ¥åˆè§„æ€§
    Rules-->>User: âœ… ç¬¦åˆè§„åˆ™ / âš ï¸ å»ºè®®è°ƒæ•´
`} client:load />

---

## ğŸ“ é«˜çº§æŠ€å·§

### æŠ€å·§ 1: è§„åˆ™å±‚æ¬¡åŒ–

<Mermaid chart={`graph TB
    subgraph "åŸºç¡€å±‚ - å§‹ç»ˆåº”ç”¨"
        Base["base.mdc<br/>â€¢ æŠ€æœ¯æ ˆ<br/>â€¢ ç¼–ç é£æ ¼<br/>â€¢ æ–‡ä»¶ç»„ç»‡"]
    end

    subgraph "æ¡†æ¶å±‚ - æ¡†æ¶ç‰¹å®š"
        React["react.mdc<br/>â€¢ ç»„ä»¶è§„èŒƒ<br/>â€¢ Hooks è§„åˆ™"]
        Next["nextjs.mdc<br/>â€¢ App Router<br/>â€¢ Server Components"]
    end

    subgraph "é¢†åŸŸå±‚ - ä¸šåŠ¡ç‰¹å®š"
        Auth["auth.mdc<br/>â€¢ è®¤è¯æµç¨‹<br/>â€¢ æƒé™æ§åˆ¶"]
        API["api-design.mdc<br/>â€¢ RESTful è§„èŒƒ<br/>â€¢ é”™è¯¯å¤„ç†"]
    end

    subgraph "å·¥å…·å±‚ - å·¥å…·ç‰¹å®š"
        Test["testing.mdc<br/>â€¢ Jest é…ç½®<br/>â€¢ RTL å®è·µ"]
        Perf["performance.mdc<br/>â€¢ ä¼˜åŒ–ç­–ç•¥<br/>â€¢ ç›‘æ§æŒ‡æ ‡"]
    end

    Base --> React
    Base --> Next
    React --> Next

    Next --> Auth
    Next --> API

    Test --> Auth
    Test --> API
    Perf --> Next

    classDef darkRed fill:#b3272c,stroke:#b3272c,stroke-width:3px,color:#fff
    classDef darkPurple fill:#772d8b,stroke:#772d8b,stroke-width:3px,color:#fff
    classDef teal fill:#77a0a9,stroke:#77a0a9,stroke-width:3px,color:#fff
    classDef lightGreen fill:#d3f9b5,stroke:#772d8b,stroke-width:2px,color:#1d1d1f

    class Base darkRed
    class React darkPurple
    class Auth teal
    class Test lightGreen
`} client:load />

### æŠ€å·§ 2: ä½¿ç”¨æ ‡ç­¾ç»„ç»‡

<ExampleCode
  title="ä½¿ç”¨ Tags åˆ†ç±»ç®¡ç†è§„åˆ™"
  language="markdown"
  code={`---
description: React Hooks è§„èŒƒ
tags:
  - react
  - hooks
  - frontend
  - level:intermediate
  - category:component
---`}
  client:load
/>

### æŠ€å·§ 3: è§„åˆ™ç‰ˆæœ¬ç®¡ç†

<ExampleCode
  title="è§„åˆ™ç‰ˆæœ¬ç®¡ç†ç¤ºä¾‹"
  language="markdown"
  code={`---
description: API è®¾è®¡è§„èŒƒ v2.0
tags:
  - api
  - version:2.0
  - updated:2025-11-09
---

# API è®¾è®¡è§„èŒƒ

> **ç‰ˆæœ¬**: 2.0
> **æ›´æ–°æ—¥æœŸ**: 2025-11-09
> **å˜æ›´**: æ·»åŠ  GraphQL æ”¯æŒ

## å˜æ›´å†å²

### v2.0 (2025-11-09)
- âœ… æ·»åŠ  GraphQL API è§„èŒƒ
- âœ… æ›´æ–°é”™è¯¯ç ä½“ç³»
- âœ… æ–°å¢é€Ÿç‡é™åˆ¶æŒ‡å—

### v1.0 (2025-01-01)
- åˆå§‹ç‰ˆæœ¬`}
  client:load
/>

### æŠ€å·§ 4: æ¡ä»¶è§„åˆ™

<ExampleCode
  title="æ¡ä»¶è§„åˆ™ - æ’é™¤ç‰¹å®šæ–‡ä»¶"
  language="markdown"
  code={`---
description: TypeScript ä¸¥æ ¼æ¨¡å¼
globs:
  - "**/*.ts"
  - "**/*.tsx"
  - "!**/*.test.ts"  # æ’é™¤æµ‹è¯•æ–‡ä»¶
  - "!**/__mocks__/**"  # æ’é™¤ mocks
alwaysApply: false
---

# TypeScript ä¸¥æ ¼æ¨¡å¼

ä»…åœ¨ç”Ÿäº§ä»£ç ä¸­åº”ç”¨ä¸¥æ ¼ç±»å‹æ£€æŸ¥ã€‚

æµ‹è¯•ä»£ç å¯ä»¥ä½¿ç”¨æ›´å®½æ¾çš„ç±»å‹è§„åˆ™ã€‚`}
  client:load
/>

### æŠ€å·§ 5: è§„åˆ™å¼•ç”¨

<ExampleCode
  title="è§„åˆ™å¼•ç”¨å’Œä¼˜å…ˆçº§"
  language="markdown"
  code={`---
description: å®Œæ•´çš„ React è§„èŒƒ
---

# React å¼€å‘è§„èŒƒ

æœ¬è§„èŒƒç»¼åˆäº†ä»¥ä¸‹è§„åˆ™ï¼š

- ğŸ“‹ **åŸºç¡€è§„èŒƒ**: å‚è§ \\\`base.mdc\\\`
- âš›ï¸ **React è§„èŒƒ**: å‚è§ \\\`react.mdc\\\`
- ğŸ§ª **æµ‹è¯•è§„èŒƒ**: å‚è§ \\\`testing.mdc\\\`
- ğŸš€ **æ€§èƒ½ä¼˜åŒ–**: å‚è§ \\\`performance.mdc\\\`

## è§„åˆ™ä¼˜å…ˆçº§

å½“è§„åˆ™å†²çªæ—¶ï¼Œéµå¾ªä»¥ä¸‹ä¼˜å…ˆçº§ï¼š

1. æ€§èƒ½ä¼˜åŒ–è§„åˆ™ (æœ€é«˜)
2. å®‰å…¨è§„èŒƒ
3. æ¡†æ¶æœ€ä½³å®è·µ
4. ä»£ç é£æ ¼è§„åˆ™ (æœ€ä½)`}
  client:load
/>

---

## ğŸ” è§„åˆ™æµ‹è¯•ä¸éªŒè¯

### æµ‹è¯•æµç¨‹

<Mermaid chart={`flowchart TD
    Start([åˆ›å»º/ä¿®æ”¹è§„åˆ™]) --> Write[ç¼–å†™è§„åˆ™å†…å®¹]
    Write --> Test1[æµ‹è¯•åœºæ™¯ 1:<br/>æ ‡å‡†ç”¨ä¾‹]

    Test1 --> Check1{ç”Ÿæˆä»£ç <br/>ç¬¦åˆè§„åˆ™?}
    Check1 -->|æ˜¯| Test2[æµ‹è¯•åœºæ™¯ 2:<br/>è¾¹ç•Œæƒ…å†µ]
    Check1 -->|å¦| Debug1[è°ƒè¯•è§„åˆ™]
    Debug1 --> Write

    Test2 --> Check2{å¤„ç†<br/>è¾¹ç•Œæƒ…å†µ?}
    Check2 -->|æ˜¯| Test3[æµ‹è¯•åœºæ™¯ 3:<br/>é”™è¯¯è¾“å…¥]
    Check2 -->|å¦| Debug2[è°ƒæ•´è§„åˆ™]
    Debug2 --> Write

    Test3 --> Check3{æ­£ç¡®æ‹’ç»<br/>é”™è¯¯æ¨¡å¼?}
    Check3 -->|æ˜¯| Validate[éªŒè¯è§„åˆ™è´¨é‡]
    Check3 -->|å¦| Debug3[å®Œå–„è§„åˆ™]
    Debug3 --> Write

    Validate --> Metrics{è¯„ä¼°æŒ‡æ ‡}
    Metrics -->|å‡†ç¡®æ€§| Score1[> 90%]
    Metrics -->|è¦†ç›–ç‡| Score2[> 80%]
    Metrics -->|ä¸€è‡´æ€§| Score3[> 95%]

    Score1 --> Pass{å…¨éƒ¨é€šè¿‡?}
    Score2 --> Pass
    Score3 --> Pass

    Pass -->|æ˜¯| Deploy[éƒ¨ç½²è§„åˆ™]
    Pass -->|å¦| Improve[æ”¹è¿›è§„åˆ™]
    Improve --> Write

    Deploy --> Monitor[ç›‘æ§æ•ˆæœ]
    Monitor --> Feedback[æ”¶é›†åé¦ˆ]
    Feedback --> Iterate[è¿­ä»£ä¼˜åŒ–]
    Iterate --> Write

    classDef teal fill:#77a0a9,stroke:#77a0a9,stroke-width:3px,color:#fff
    classDef lightGreen fill:#d3f9b5,stroke:#772d8b,stroke-width:2px,color:#1d1d1f
    classDef darkPurple fill:#772d8b,stroke:#772d8b,stroke-width:3px,color:#fff

    class Test1 teal
    class Validate darkPurple
    class Deploy lightGreen
`} client:load />

### æµ‹è¯•æ¸…å•

```markdown
## è§„åˆ™æµ‹è¯•æ¸…å•

### åŠŸèƒ½æµ‹è¯•
- [ ] è§„åˆ™åœ¨é¢„æœŸåœºæ™¯ä¸‹æ­£ç¡®åº”ç”¨
- [ ] ç”Ÿæˆçš„ä»£ç ç¬¦åˆè§„åˆ™è¦æ±‚
- [ ] è§„åˆ™ä¸å¹²æ‰°éç›¸å…³ä»£ç 

### è¾¹ç•Œæµ‹è¯•
- [ ] å¤„ç†ç©ºè¾“å…¥
- [ ] å¤„ç†æå¤§è¾“å…¥
- [ ] å¤„ç†ç‰¹æ®Šå­—ç¬¦
- [ ] å¤„ç†åµŒå¥—ç»“æ„

### é”™è¯¯æµ‹è¯•
- [ ] æ­£ç¡®è¯†åˆ«åæ¨¡å¼
- [ ] æä¾›æœ‰ç”¨çš„é”™è¯¯æç¤º
- [ ] ä¸äº§ç”Ÿè¯¯æŠ¥

### æ€§èƒ½æµ‹è¯•
- [ ] è§„åˆ™åŠ è½½æ—¶é—´ < 100ms
- [ ] ä¸æ˜¾è‘—å½±å“ AI å“åº”é€Ÿåº¦
- [ ] ä¸Šä¸‹æ–‡å¤§å°åˆç† (< 10KB)

### é›†æˆæµ‹è¯•
- [ ] ä¸å…¶ä»–è§„åˆ™å…¼å®¹
- [ ] ä¸äº§ç”Ÿå†²çªè§„åˆ™
- [ ] ä¼˜å…ˆçº§æ­£ç¡®

### ç”¨æˆ·ä½“éªŒ
- [ ] è§„åˆ™æè¿°æ¸…æ™°
- [ ] ç¤ºä¾‹ä»£ç å®Œæ•´
- [ ] é”™è¯¯ä¿¡æ¯æœ‰å¸®åŠ©
```

---

## ğŸ“¦ è§„åˆ™ç®¡ç†

### å›¢é˜Ÿåä½œ

```
.cursor/
â”œâ”€â”€ rules/
â”‚   â”œâ”€â”€ README.md           # è§„åˆ™æ–‡æ¡£
â”‚   â”œâ”€â”€ base.mdc
â”‚   â”œâ”€â”€ frontend/
â”‚   â”‚   â”œâ”€â”€ react.mdc
â”‚   â”‚   â”œâ”€â”€ nextjs.mdc
â”‚   â”‚   â””â”€â”€ styling.mdc
â”‚   â”œâ”€â”€ backend/
â”‚   â”‚   â”œâ”€â”€ api-design.mdc
â”‚   â”‚   â”œâ”€â”€ database.mdc
â”‚   â”‚   â””â”€â”€ security.mdc
â”‚   â””â”€â”€ testing/
â”‚       â”œâ”€â”€ unit-tests.mdc
â”‚       â””â”€â”€ e2e-tests.mdc
â””â”€â”€ .gitignore
```

**.cursor/rules/README.md:**

<ExampleCode
  title="è§„åˆ™ç›®å½• README æ¨¡æ¿"
  language="markdown"
  code={`# é¡¹ç›® Cursor Rules

## æ¦‚è§ˆ

æœ¬ç›®å½•åŒ…å«é¡¹ç›®çš„ Cursor AI è§„åˆ™é…ç½®ã€‚

## è§„åˆ™åˆ—è¡¨

### åŸºç¡€è§„åˆ™ (Always)
- \\\`base.mdc\\\` - é¡¹ç›®åŸºç¡€è§„èŒƒï¼Œå§‹ç»ˆåº”ç”¨

### å‰ç«¯è§„åˆ™ (Auto Attached)
- \\\`frontend/react.mdc\\\` - React ç»„ä»¶è§„èŒƒ
- \\\`frontend/nextjs.mdc\\\` - Next.js App Router è§„èŒƒ
- \\\`frontend/styling.mdc\\\` - æ ·å¼è§„èŒƒ

### åç«¯è§„åˆ™ (Auto Attached)
- \\\`backend/api-design.mdc\\\` - REST API è®¾è®¡è§„èŒƒ
- \\\`backend/database.mdc\\\` - æ•°æ®åº“æ“ä½œè§„èŒƒ
- \\\`backend/security.mdc\\\` - å®‰å…¨æœ€ä½³å®è·µ

### æµ‹è¯•è§„åˆ™ (Auto Attached)
- \\\`testing/unit-tests.mdc\\\` - å•å…ƒæµ‹è¯•è§„èŒƒ
- \\\`testing/e2e-tests.mdc\\\` - E2E æµ‹è¯•è§„èŒƒ

## ä½¿ç”¨æŒ‡å—

1. **Always è§„åˆ™**: è‡ªåŠ¨åº”ç”¨äºæ‰€æœ‰æ–‡ä»¶
2. **Auto Attached**: æ ¹æ®æ–‡ä»¶è·¯å¾„è‡ªåŠ¨åº”ç”¨
3. **æ‰‹åŠ¨é™„åŠ **: åœ¨ Composer ä¸­ä½¿ç”¨ \\\`@rules\\\` é€‰æ‹©

## æ›´æ–°è§„åˆ™

1. åˆ›å»ºæ–°åˆ†æ”¯
2. ä¿®æ”¹è§„åˆ™æ–‡ä»¶
3. æµ‹è¯•è§„åˆ™æ•ˆæœ
4. æäº¤ PR å¹¶é™„ä¸Šæµ‹è¯•ç»“æœ
5. å›¢é˜Ÿå®¡æŸ¥ååˆå¹¶

## è§„åˆ™ä¼˜å…ˆçº§

å½“è§„åˆ™å†²çªæ—¶ï¼š
1. å®‰å…¨è§„åˆ™ > æ€§èƒ½è§„åˆ™ > ä»£ç é£æ ¼
2. é¡¹ç›®è§„åˆ™ > ç”¨æˆ·è§„åˆ™
3. å…·ä½“è§„åˆ™ > é€šç”¨è§„åˆ™

## åé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·åœ¨ #ai-tools é¢‘é“è®¨è®ºã€‚`}
  client:load
/>

---

## ğŸš€ æœ€ä½³å®è·µæ€»ç»“

### Dos âœ…

1. âœ… **æ˜ç¡®ç‰ˆæœ¬** - æŒ‡å®šæ¡†æ¶å’Œåº“çš„ç‰ˆæœ¬
2. âœ… **æä¾›ç¤ºä¾‹** - åŒ…å«å®Œæ•´çš„ä»£ç ç¤ºä¾‹
3. âœ… **æ ‡è®°åºŸå¼ƒ** - æ˜ç¡®æŒ‡å‡ºè¿‡æ—¶çš„æ¨¡å¼
4. âœ… **è§£é‡ŠåŸå› ** - è¯´æ˜ä¸ºä»€ä¹ˆæ¨èæŸç§åšæ³•
5. âœ… **ä¿æŒæ›´æ–°** - éšé¡¹ç›®æ¼”è¿›æ›´æ–°è§„åˆ™
6. âœ… **ç»„ç»‡æ¸…æ™°** - ä½¿ç”¨å±‚æ¬¡ç»“æ„å’Œæ ‡ç­¾
7. âœ… **æµ‹è¯•å……åˆ†** - è¦†ç›–å„ç§åœºæ™¯
8. âœ… **æ–‡æ¡£å®Œå–„** - æ·»åŠ  README å’Œæ³¨é‡Š
9. âœ… **ç‰ˆæœ¬æ§åˆ¶** - æäº¤åˆ° Git ä¾¿äºè¿½è¸ª
10. âœ… **å›¢é˜Ÿåä½œ** - é€šè¿‡ PR å®¡æŸ¥è§„åˆ™

### Don'ts âŒ

1. âŒ **è¿‡åº¦å†—é•¿** - é¿å…è§„åˆ™æ–‡ä»¶è¶…è¿‡ 500 è¡Œ
2. âŒ **æ¨¡ç³Šæè¿°** - ä¸è¦ä½¿ç”¨å«ç³Šçš„è¯­è¨€
3. âŒ **ç¼ºå°‘ç¤ºä¾‹** - ä»…æœ‰è§„åˆ™æ²¡æœ‰ç¤ºä¾‹
4. âŒ **å¿½ç•¥æµ‹è¯•** - æœªéªŒè¯è§„åˆ™æ•ˆæœ
5. âŒ **å•ä¸€æ–‡ä»¶** - æ‰€æœ‰è§„åˆ™å¡åœ¨ä¸€ä¸ªæ–‡ä»¶
6. âŒ **ç¼ºå°‘ä¸Šä¸‹æ–‡** - ä¸è¯´æ˜é€‚ç”¨åœºæ™¯
7. âŒ **è¿‡æ—¶ä¿¡æ¯** - åŒ…å«å·²åºŸå¼ƒçš„åšæ³•
8. âŒ **å†²çªè§„åˆ™** - è§„åˆ™ä¹‹é—´ç›¸äº’çŸ›ç›¾
9. âŒ **å¿½è§†æ€§èƒ½** - è§„åˆ™è¿‡å¤§å½±å“å“åº”é€Ÿåº¦
10. âŒ **å•æ‰“ç‹¬æ–—** - ä¸ä¸å›¢é˜Ÿè®¨è®ºè§„åˆ™

---

## ğŸ“š å­¦ä¹ èµ„æº

### å®˜æ–¹èµ„æº

- ğŸŒ [Cursor å®˜æ–¹æ–‡æ¡£](https://docs.cursor.com/context/rules)
- ğŸ“– [Cursor Rules for AI](https://docs.cursor.com/context/rules-for-ai)

### ç¤¾åŒºèµ„æº

- ğŸ“„ [Awesome Cursor Rules](https://github.com/PatrickJS/awesome-cursorrules) - 1000+ ç¤¾åŒºè§„åˆ™
- ğŸ¯ [Cursor Directory](https://cursor.directory/) - è§„åˆ™æ¨¡æ¿åº“
- ğŸ“ [DotCursorRules](https://dotcursorrules.com/) - è§„åˆ™ç”Ÿæˆå™¨
- ğŸ¤– [CursorRules.org](https://cursorrules.org) - å…è´¹ AI ç”Ÿæˆå™¨

### æŠ€æœ¯æ–‡ç« 

- [How to Write Great Cursor Rules](https://trigger.dev/blog/cursor-rules) - Trigger.dev
- [Getting Better Results from Cursor AI](https://medium.com/@aashari/getting-better-results-from-cursor-ai-with-simple-rules-cbc87346ad88)
- [Mastering Cursor Configuration](https://www.hubermann.com/en/blog/mastering-cursor-configuration-a-comprehensive-guide-to-project-rules-and-settings)

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### å¿«é€Ÿå¼€å§‹

1. **åˆ›å»ºè§„åˆ™ç›®å½•**
   ```bash
   mkdir -p .cursor/rules
   ```

2. **ä»æ¨¡æ¿å¼€å§‹**
   - è®¿é—® [cursor.directory](https://cursor.directory/)
   - é€‰æ‹©é€‚åˆçš„æŠ€æœ¯æ ˆæ¨¡æ¿
   - ä¸‹è½½å¹¶å®šåˆ¶åŒ–

3. **æµ‹è¯•è§„åˆ™**
   ```
   åœ¨ Composer ä¸­è¾“å…¥: "æ ¹æ®é¡¹ç›®è§„åˆ™åˆ›å»ºä¸€ä¸ª React ç»„ä»¶"
   ```

4. **è¿­ä»£ä¼˜åŒ–**
   - æ”¶é›†å›¢é˜Ÿåé¦ˆ
   - åˆ†æ AI ç”Ÿæˆè´¨é‡
   - æŒç»­æ”¹è¿›è§„åˆ™

### è¿›é˜¶è·¯çº¿

<Mermaid chart={`graph LR
    Beginner[åˆå­¦è€…] --> Basic["åˆ›å»ºåŸºç¡€è§„åˆ™<br/>base.mdc"]
    Basic --> Framework["æ·»åŠ æ¡†æ¶è§„åˆ™<br/>react.mdc"]
    Framework --> Domain["é¢†åŸŸç‰¹å®šè§„åˆ™<br/>api-design.mdc"]
    Domain --> Advanced["é«˜çº§æŠ€å·§<br/>å¤šå±‚æ¬¡ç»„ç»‡"]
    Advanced --> Expert[Rules ä¸“å®¶]

    classDef darkRed fill:#b3272c,stroke:#b3272c,stroke-width:3px,color:#fff
    classDef lightGreen fill:#d3f9b5,stroke:#772d8b,stroke-width:2px,color:#1d1d1f

    class Beginner darkRed
    class Expert lightGreen
`} client:load />

---

## ğŸ’¡ æ€»ç»“

Cursor Rules æ˜¯ AI ç¼–ç åŠ©æ‰‹çš„**ç§˜å¯†æ­¦å™¨**ï¼š

**æ ¸å¿ƒä»·å€¼ï¼š**
- ğŸ¯ **ä»£ç ä¸€è‡´æ€§** - ç»Ÿä¸€å›¢é˜Ÿç¼–ç é£æ ¼
- ğŸš€ **å¼€å‘æ•ˆç‡** - AI ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ä»£ç 
- ğŸ“š **çŸ¥è¯†å…±äº«** - å°†æœ€ä½³å®è·µç¼–ç åŒ–
- ğŸ›¡ï¸ **è´¨é‡ä¿è¯** - é¢„é˜²å¸¸è§é”™è¯¯

**ä¸‰å¤§è§„åˆ™ç±»å‹ï¼š**
1. **é¡¹ç›®è§„åˆ™** - .cursor/rules/ (ç‰ˆæœ¬æ§åˆ¶ï¼Œå›¢é˜Ÿå…±äº«)
2. **ç”¨æˆ·è§„åˆ™** - Settings (ä¸ªäººåå¥½ï¼Œå…¨å±€åº”ç”¨)
3. **é—ç•™è§„åˆ™** - .cursorrules (å·²å¼ƒç”¨ï¼Œå»ºè®®è¿ç§»)

**å››ç§åº”ç”¨æ–¹å¼ï¼š**
- **Always** - å§‹ç»ˆåº”ç”¨
- **Auto Attached** - æ¨¡å¼åŒ¹é…
- **Agent Requested** - æ™ºèƒ½é€‰æ‹©
- **Manual** - æ‰‹åŠ¨é™„åŠ 

**å¼€å§‹ä½¿ç”¨ Cursor Rulesï¼Œè®© AI çœŸæ­£ç†è§£ä½ çš„é¡¹ç›®ï¼** ğŸš€

---

<div style="text-align: center; margin-top: 3rem; padding: 2rem; background: linear-gradient(135deg, #772d8b 0%, #77a0a9 100%); border-radius: 1rem;">
  <p style="color: white; font-size: 1.2rem; margin: 0;">
    âœ¨ <strong>å‡†å¤‡å¥½å®šåˆ¶ä½ çš„ AI ç¼–ç åŠ©æ‰‹äº†å—ï¼Ÿ</strong> âœ¨
  </p>
  <p style="color: rgba(255,255,255,0.9); margin: 1rem 0 0 0;">
    åˆ›å»ºç¬¬ä¸€ä¸ª Cursor Ruleï¼Œå¼€å¯é«˜æ•ˆç¼–ç¨‹ä¹‹æ—…
  </p>
</div>
